{% extends 'template_base.html' %}

    {% block style %}
    <link rel="stylesheet" href="static/style/base.css">
    {% endblock %}

    {% block conteudo %}
        <!-- Se√ß√£o principal do conte√∫do -->
        <section id="section_inicial_jg">
            <div id="box_voltar">
                <a href="{{ url_for('Fases_quiz' ) }}"><button id="bt_voltar">Voltar</button></a>
            </div>
            <div class="box_inicial_jg">
                <!-- Div para o quiz -->
                <div id="div_inicial_jg">
                    <h1 id="titulo-jogo">QUIZ MATEM√ÅTICO</h1> <!-- T√≠tulo do quiz -->
                </div>
                <!-- Primeira caixa de conte√∫do do quiz -->
                <div id="quad1_quiz">
                    <p><span id="Tempo_restante"></span></p> <!-- Espa√ßo para exibir o tempo restante -->
                    <p id="pergunta">{{ pergunta }}</p> <!-- Pergunta do quiz -->
                    <!-- Cont√™iner para as op√ß√µes de resposta -->
                    <div class="questao">
                        <form method="post" action="{{url_for('Quiz')}}">
                            <!-- La√ßo para criar bot√µes de resposta para cada op√ß√£o -->
                            {% for opcao in opcoes %}
                            <input class="inputs" type="submit" name="resposta" value="{{ opcao }}" id=""> <!-- Bot√£o de op√ß√£o -->
                            {% endfor %}
                        </form>
                    </div>
                </div>
                <!-- Div para exibir mensagens relacionadas √† resposta -->
                <div id="resposta">
                    {% if mensagem %}
                    <p>{{ mensagem }}</p> <!-- Mensagem exibida -->
                    <script>
                        // Oculta o cont√™iner do quiz
                        let resp = '{{mensagem}}'
                        
                        document.getElementById('quad1_quiz').style.display = 'none';
                        
                        // Exibe o cont√™iner da resposta
                        document.getElementById('resposta').style.display = 'block';
                        if (resp === "Parab√©ns! Sua resposta est√° correta."){
                            document.getElementById('resposta').style.color = 'green'
                        }
                        else{
                            document.getElementById('resposta').style.color = 'red'
                        }
                        // Espera 2 segundos
                        setTimeout(function() {
                            // Oculta o cont√™iner da resposta
                            document.getElementById('resposta').style.display = 'none';
                            
                            // Exibe novamente o cont√™iner do quiz
                            document.getElementById('quad1_quiz').style.display = 'block';
                            
                            // Redireciona para a pr√≥xima pergunta, se necess√°rio
                            
                        }, 2000);
                    </script>
                    {% endif %}
                </div>
                <!-- Segunda caixa de conte√∫do com informa√ß√µes adicionais -->
                
            </div>
        </section>
    </div>
    {% endblock %}

    {% block js %}
    <!-- Script para atualizar o tempo restante -->
    <script src="static/scripts/jogo_quiz.js">
        
    </script>
    <script>
        // Pega as informa√ß√µes do localStorage
        let Color = localStorage.getItem('selectedColor') || '#00AEEF';
        let Avatar = localStorage.getItem('selectedAvatar') || 'üê∂'; // Avatar padr√£o
        // Fun√ß√£o para carregar a sele√ß√£o salva ao iniciar a p√°gina
        function carregarSelecoes() {
            const perfilAvatar = document.getElementById('perfilAvatar');

            perfilAvatar.textContent = Avatar; // Atualiza o avatar do perfil
            perfilAvatar.style.backgroundColor = Color; // Atualiza a cor do fundo
        }

        // Chame a fun√ß√£o ao carregar a p√°gina
        window.onload = carregarSelecoes;

    </script>
    
    {% endblock %}
